<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="description" content="" />
<meta name="author" content="" />
<title>Dashboard - SB Admin</title>
<link
	href="https://cdn.jsdelivr.net/npm/simple-datatables@latest/dist/style.css"
	rel="stylesheet" />
<link href="css/styles.css" rel="stylesheet" />
<script src="https://use.fontawesome.com/releases/v6.1.0/js/all.js"
	crossorigin="anonymous"></script>
<style>
body {
	background-image: url(images/hello.jpg);
	height: 100vh;
	width: 100vw;
	background-repeat: no-repeat;
	background-size: cover;
	background-size: cover;
}
</style>
</head>
<body class="sb-nav-fixed">
	<nav class="sb-topnav navbar navbar-expand navbar-dark bg-dark">
		<!-- Navbar Brand-->
		<a class="navbar-brand ps-3" href="http://healthup.shop:9999/">Health-Up</a>
		<!-- Sidebar Toggle-->
		<button class="btn btn-link btn-sm order-1 order-lg-0 me-4 me-lg-0"
			id="sidebarToggle" href="#!">
			<i class="fas fa-bars"></i>
		</button>
		<!-- Navbar-->
		<ul class="navbar-nav ms-auto ms-md-0 me-3 me-lg-4">
			<li class="nav-item dropdown"><a
				class="nav-link dropdown-toggle" id="navbarDropdown" href="#"
				role="button" data-bs-toggle="dropdown" aria-expanded="false"><i
					class="fas fa-user fa-fw"></i></a>
				<ul class="dropdown-menu dropdown-menu-end"
					aria-labelledby="navbarDropdown">
					<li><a class="dropdown-item" href="#!">Settings</a></li>
					<li th:if="${userId==null}"><a  class="dropdown-item"
						href="https://kauth.kakao.com/oauth/authorize?client_id=6e6dc22a169f98a227b09f8e3f8ea9e7&redirect_uri=http://healthup.shop:9999/login&response_type=code">Login</a>
					</li>
					<li  th:if="${userId!=null}"><a class="dropdown-item"
						href="https://kauth.kakao.com/oauth/logout?client_id=6e6dc22a169f98a227b09f8e3f8ea9e7&logout_redirect_uri=http://healthup.shop:9999/logout">Logout</a>
					</li>

				</ul></li>
		</ul>
	</nav>
	<div id="layoutSidenav">
		<div id="layoutSidenav_nav">
			<nav class="sb-sidenav accordion sb-sidenav-dark"
				id="sidenavAccordion">
				<div class="sb-sidenav-menu">
					<div class="nav">

						<div class="sb-sidenav-menu-heading">Health-Up</div>
						<a class="nav-link collapsed" href="#" data-bs-toggle="collapse"
							data-bs-target="#collapseWorkOut" aria-expanded="false"
							aria-controls="collapseWorkOut">
							<div class="sb-nav-link-icon"></div> 운동관리
							<div class="sb-sidenav-collapse-arrow">
								<i class="fas fa-angle-down"></i>
							</div>
						</a>
						<div class="collapse" id="collapseWorkOut"
							aria-labelledby="headingOne" data-bs-parent="#sidenavAccordion">
							<nav class="sb-sidenav-menu-nested nav">
								<a class="nav-link" id="workoutchart">운동일지</a> <a
									class="nav-link" href="#">홈트레이닝</a> <a
									class="nav-link" id="workoutyoutube">스트레칭</a>
							</nav>
						</div>


						<a class="nav-link collapsed" href="#" data-bs-toggle="collapse"
							data-bs-target="#collapseEating" aria-expanded="false"
							aria-controls="collapseEating">
							<div class="sb-nav-link-icon"></div> 식단관리
							<div class="sb-sidenav-collapse-arrow">
								<i class="fas fa-angle-down"></i>
							</div>
						</a>
						<div class="collapse" id="collapseEating"
							aria-labelledby="headingOne" data-bs-parent="#sidenavAccordion">
							<nav class="sb-sidenav-menu-nested nav">
								<a class="nav-link" id="chart">체형변화</a>
							</nav>
						</div>


						<a class="nav-link collapsed" href="#" data-bs-toggle="collapse"
							data-bs-target="#collapseSleep" aria-expanded="false"
							aria-controls="collapseSleep">
							<div class="sb-nav-link-icon"></div> 수면관리
							<div class="sb-sidenav-collapse-arrow">
								<i class="fas fa-angle-down"></i>
							</div>
						</a>
						<div class="collapse" id="collapseSleep"
							aria-labelledby="headingOne" data-bs-parent="#sidenavAccordion">
							<nav class="sb-sidenav-menu-nested nav">
								<a class="nav-link" id="sleepchart">수면일지</a> <a
									class="nav-link" id="sleepyoutube">수면도움</a>
							</nav>
						</div>

						<a class="nav-link collapsed" href="#" data-bs-toggle="collapse"
							data-bs-target="#collapsePages" aria-expanded="false"
							aria-controls="collapsePages">
							<div class="sb-nav-link-icon"></div> 회원
							<div class="sb-sidenav-collapse-arrow">
								<i class="fas fa-angle-down"></i>
							</div>
						</a>
						<div class="collapse" id="collapsePages"
							aria-labelledby="headingTwo" data-bs-parent="#sidenavAccordion">
							<nav class="sb-sidenav-menu-nested nav accordion"
								id="sidenavAccordionPages">
								<a class="nav-link collapsed" href="#" data-bs-toggle="collapse"
									data-bs-target="#pagesCollapseAuth" aria-expanded="false"
									aria-controls="pagesCollapseAuth"> Authentication
									<div class="sb-sidenav-collapse-arrow">
										<i class="fas fa-angle-down"></i>
									</div>
								</a>
								<div class="collapse" id="pagesCollapseAuth"
									aria-labelledby="headingOne"
									data-bs-parent="#sidenavAccordionPages">
									<nav class="sb-sidenav-menu-nested nav">
										<a class="nav-link"
											href="https://kauth.kakao.com/oauth/authorize?client_id=6e6dc22a169f98a227b09f8e3f8ea9e7&redirect_uri=http://healthup.shop:9999/login&response_type=code">Login</a>
										<a class="nav-link"
											href="https://kauth.kakao.com/oauth/logout?client_id=6e6dc22a169f98a227b09f8e3f8ea9e7&logout_redirect_uri=http://healthup.shop:9999/logout">Logout</a>
									</nav>
								</div>

							</nav>
						</div>
						<div class="sb-sidenav-menu-heading">etc</div>
						<a class="nav-link" href="#">
							<div class="sb-nav-link-icon"></div> ads
						</a> <a class="nav-link" id="iamportPayment">
							<div class="sb-nav-link-icon"></div> Donation
						</a>
					</div>
				</div>
				<div class="sb-sidenav-footer">
					<div class="small">Logged in as:</div>
					Start Bootstrap
				</div>
			</nav>
		</div>
		<div id="layoutSidenav_content">
			<main>
				<div id="image1">
					<div id="result">
						<div class="container-fluid px-4">
							<h1 class="mt-4">Insert Your HealthUp</h1>
							<ol class="breadcrumb mb-4">
								<li class="breadcrumb-item active"></li>
							</ol>
							<div class="row">
								<div class="col-lg-4 col-md-6">
									<div class="card mb-3">
										<div class="card-body">
											<h4 class="card-title">운동 입력</h4>

											<div class="form-group">
												<label for="u_name"> WorkOutTitle </label> <input
													type="text" class="form-control" placeholder="운동명 입력"
													id="wd_title" name="wd_title" required>
												<div class="valid-feedback"></div>
												<div class="invalid-feedback">운동명을 입력해 주세요.</div>
												<br>
											</div>

											<div class="form-group">
												<label for="u_name"> WorkOutContent </label> <input
													type="text" class="form-control" placeholder="운동내용 입력"
													id="wd_content" name="wd_content" required>
												<div class="valid-feedback"></div>
												<div class="invalid-feedback">운동내용을 입력해 주세요.</div>
												<br>
											</div>

											<div class="form-group">
												<label for="u_name"> TotalWeight </label> <input type="text"
													class="form-control" placeholder="운동량 입력" id="wo_kg"
													name="wo_kg" required>
												<div class="valid-feedback"></div>
												<div class="invalid-feedback">운동량을 입력해 주세요.</div>
												<br>
											</div>

											<input type="button" class="btn btn-primary" id="winsert"
												value="입력">

										</div>
									</div>
								</div>
								<div class="col-lg-4 col-md-6">
									<div class="card mb-3">
										<div class="card-body">
											<h4 class="card-title">식사 입력</h4>
											<div class="form-group">
												<label>식사선택</label><br> <input type="radio"
													name="selectMeal" id="selectMeal" value="brf">아침 <input
													type="radio" name="selectMeal" id="selectMeal" value="lun">점심
												<input type="radio" name="selectMeal" id="selectMeal"
													value="din">저녁
											</div>
											<br>

											<div class="form-group">
												<label for="e_content"> EatingContent </label> <input
													type="text" class="form-control" placeholder="식단 입력"
													id="e_content" name="e_content" required>
												<div class="valid-feedback"></div>
												<div class="invalid-feedback">식단을 입력해 주세요.</div>
												<br>
											</div>

											<div class="form-group">
												<label for="kcal"> EatingKcal </label> <input type="text"
													class="form-control" placeholder="총칼로리 입력" id="kcal"
													name="kcal" required>
												<div class="valid-feedback"></div>
												<div class="invalid-feedback">총칼로리를 입력해 주세요.</div>
												<br>
											</div>

											<div class="form-group">
												<label for="tan"> Carbohydrate </label> <input type="text"
													class="form-control" placeholder="탄수화물" id="tan" name="tan"
													required>
												<div class="valid-feedback"></div>
												<div class="invalid-feedback">총칼로리를 입력해 주세요.</div>
												<br>
											</div>

											<div class="form-group">
												<label for="dan"> Protein </label> <input type="text"
													class="form-control" placeholder="단백질" id="dan" name="dan"
													required>
												<div class="valid-feedback"></div>
												<div class="invalid-feedback">총칼로리를 입력해 주세요.</div>
												<br>
											</div>

											<div class="form-group">
												<label for="ji"> Fat </label> <input type="text"
													class="form-control" placeholder="지방" id="ji" name="ji"
													required>
												<div class="valid-feedback"></div>
												<div class="invalid-feedback">총칼로리를 입력해 주세요.</div>
												<br>
											</div>

											<input type="button" class="btn btn-primary" id="einsert"
												value="입력">
										</div>
									</div>
								</div>
								<div class="col-lg-4 col-md-6">
									<div class="card mb-3">
										<div class="card-body">
											<h4 class="card-title">수면 입력</h4>

											<div class="form-group">
												<label for="u_name"> StartSleep </label> <input
													type="datetime-local" class="form-control"
													placeholder="수면 시작 시간 입력" id="toDate" name="toDate"
													required>
												<div class="valid-feedback"></div>
												<div class="invalid-feedback">수면 시작 시간을 입력해 주세요.</div>
												<br>
											</div>

											<div class="form-group">
												<label for="u_name"> EndSleep </label> <input
													type="datetime-local" class="form-control"
													placeholder="수면 끝난 시간 입력" id="fromDate" name="fromDate"
													required>
												<div class="valid-feedback"></div>
												<div class="invalid-feedback">수면 끝난 시간을 입력해 주세요.</div>
												<br>
											</div>

											<input type="button" class="btn btn-primary" id="sinsert"
												value="입력">
										</div>
									</div>
								</div>

							</div>
						</div>
					</div>
					<div class="row"></div>

				</div>
			</main>
			<footer class="py-4 bg-light mt-auto">
				<div class="container-fluid px-4">
					<div
						class="d-flex align-items-center justify-content-between small">
						<div class="text-muted">Copyright &copy; Your Website 2022</div>
						<div>
							<a href="#">Privacy Policy</a> &middot; <a href="#">Terms
								&amp; Conditions</a>
						</div>
					</div>
				</div>

			</footer>
		</div>
	</div>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
		crossorigin="anonymous"></script>
	<script src="js/scripts.js"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js"
		crossorigin="anonymous"></script>
	<script src="assets/demo/chart-area-demo.js"></script>
	<script src="assets/demo/chart-bar-demo.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/simple-datatables@latest"
		crossorigin="anonymous"></script>
	<script src="js/datatables-simple-demo.js"></script>
	<!-- iamport.payment.js -->
	<script type="text/javascript"
		src="https://cdn.iamport.kr/js/iamport.payment-1.2.0.js"></script>
	<script th:src="@{/js/jquery.min.js}"></script>
	<script>
		$('#winsert').click(function() {
			var jsonData = JSON.stringify({

				wo_kg : $('#wo_kg').val(),
				wd_content : $('#wd_content').val(),
				wd_title : $('#wd_title').val()
			});
			alert(jsonData);
			$.ajax({
				url : "http://healthup.shop:9999/workout/insert",
				type : "POST",
				data : jsonData,
				contentType : "application/json",
				headers : {
					"Authorization" : "Basic " + btoa("havi" + ":" + "test")
				},
				dataType : "json",
				success : function() {
					alert('저장 성공!');
					// location.href = '/eating/list';
				},
				error : function() {
					alert('저장 실패!');
				}
			});

		});
	</script>
	<script>
		$('#einsert').click(function() {
			var jsonData = JSON.stringify({

				selectMeal : $('input:radio[name="selectMeal"]:checked').val(),
				e_content : $('#e_content').val(),
				kcal : $('#kcal').val()
			});
			alert(jsonData);
			$.ajax({
				url : "http://healthup.shop:9999/eating/insert",
				type : "POST",
				data : jsonData,
				contentType : "application/json",
				headers : {
					"Authorization" : "Basic " + btoa("havi" + ":" + "test")
				},
				dataType : "json",
				success : function() {
					alert('저장 성공!');
					// location.href = '/eating/list';
				},
				error : function() {
					alert('저장 실패!');
				}
			});

		});
	</script>
	<script>
		$('#sinsert').click(function() {
			var jsonData = JSON.stringify({

				toDate : $('#toDate').val(),
				fromDate : $('#fromDate').val()

			});
			alert(jsonData);
			$.ajax({
				url : "http://healthup.shop:9999/sleep/insert",
				type : "POST",
				data : jsonData,
				contentType : "application/json",
				headers : {
					"Authorization" : "Basic " + btoa("havi" + ":" + "test")
				},
				dataType : "json",
				success : function() {
					alert('저장 성공!');
					// location.href = '/eating/list';
				},
				error : function() {
					alert('저장 실패!');
				}
			});

		});
	</script>

	<script>
		$('#chart').click(function() {

			$.ajax({
				url : "http://healthup.shop:9999/eating/chart",
				//data : meg,
				type : "get",

				success : function(recvdata) {
					$('#result').html(recvdata);
				}
			})
		});

		//		$('#chart').click(function() {
		//			$.ajax({
		//				url : "http://localhost:9999/eating/list",
		//				//data : meg,
		//				type : "get",
		//				success : function(recvdata) {
		//					//alert(recvdata)
		//					$('#result').html(recvdata);
		//				}
		//			})
		//			});
	</script>

	<script>
		$('#sleepyoutube').click(function() {

			$.ajax({
				url : "http://healthup.shop:9999/sleep/youtube",
				//data : meg,
				type : "get",

				success : function(recvdata) {
					$('#result').html(recvdata);
				}
			})
		});

		//		$('#chart').click(function() {
		//			$.ajax({
		//				url : "http://localhost:9999/eating/list",
		//				//data : meg,
		//				type : "get",
		//				success : function(recvdata) {
		//					//alert(recvdata)
		//					$('#result').html(recvdata);
		//				}
		//			})
		//			});
		
		
		$('#workoutyoutube').click(function() {

			$.ajax({
				url : "http://healthup.shop:9999/workout/youtube",
				//data : meg,
				type : "get",

				success : function(recvdata) {
					$('#result').html(recvdata);
				}
			})
		});

	</script>
	
	<script>
		$('#workoutchart').click(function() {

			$.ajax({
				url : "http://healthup.shop:9999/workout/chart",
				//data : meg,
				type : "get",

				success : function(recvdata) {
					$('#result').html(recvdata);
				}
			})
		});

		//		$('#chart').click(function() {
		//			$.ajax({
		//				url : "http://localhost:9999/eating/list",
		//				//data : meg,
		//				type : "get",
		//				success : function(recvdata) {
		//					//alert(recvdata)
		//					$('#result').html(recvdata);
		//				}
		//			})
		//			});
	</script>
	
	<script>
		$('#sleepchart').click(function() {

			$.ajax({
				url : "http://healthup.shop:9999/sleep/chart",
				//data : meg,
				type : "get",

				success : function(recvdata) {
					$('#result').html(recvdata);
				}
			})
		});

		//		$('#chart').click(function() {
		//			$.ajax({
		//				url : "http://localhost:9999/eating/list",
		//				//data : meg,
		//				type : "get",
		//				success : function(recvdata) {
		//					//alert(recvdata)
		//					$('#result').html(recvdata);
		//				}
		//			})
		//			});
	</script>
	
	
	<script type="text/javascript"
		src="https://cdn.iamport.kr/js/iamport.payment-1.2.0.js"></script>


	<script th:inline="javascript">
		$(document).ready(function() {
			$("#iamportPayment").click(function() {
				payment(); //버튼 클릭하면 호출 
			});
		})

		//버튼 클릭하면 실행
		function payment(data) {
			IMP.init('imp87781481');//아임포트 관리자 콘솔에서 확인한 '가맹점 식별코드' 입력
			IMP.request_pay({// param
				pg : "html5_inicis", //html5_inicis pg사명 or pg사명.CID (잘못 입력할 경우, 기본 PG사가 띄워짐)
				pay_method : "card", //지불 방법
				merchant_uid : Math.random(), //가맹점 주문번호 (아임포트를 사용하는 가맹점에서 중복되지 않은 임의의 문자열을 입력)
				name : "HealthUp", //결제창에 노출될 상품명
				amount : 100, //금액
				buyer_name : "123",
				buyer_tel : "123"
			}, function(rsp) { // callback
				if (rsp.success) {
					Swal.fire({
						position : 'center',
						icon : 'success',
						iconColor : '#faf02f',
						title : '결제가 완료되었습니다!',
						showConfirmButton : true,
						confirmButtonColor : '#faf02f',
						background : '#f2f2eb',
						time : 50000,
						confirmButtonText : 'HOME!'
					}).then(function() {
						location.href = "http://localhost:9999/";
					});
					return insert();

				} else {

				}

			});
		}
	</script>

</body>
</html>
